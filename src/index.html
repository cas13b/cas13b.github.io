<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KRAS Annotation</title>
    <meta name="apple-mobile-web-app-capable" content="yes">

	<link rel="stylesheet" href="/css/main.css">
	<link rel="stylesheet" href="/css/cas13.css">
    <script src="/js/vendor.min.js"></script>
    <script src="/js/showdown.min.js"></script>
    <script src="/js/bionode-seq.min.js"></script>

</head>

<body>
    <center>
    <h1><font color="Red"> Cas13 </font>: Tiling experiment guide RNA Target Design Server</h1>
    <b>(ACADEMIC USE ONLY)</b>
    </center>

    <center>
    <form enctype="multipart/form-data">
    <table>

    <tbody>
    <tr>
        <td align="left" colspan="2"><h2>Input your RNA/DNA Sequence:</h2></td>
    </tr> 

    <tr>
        <td colspan="2">
            <textarea name="fasta_sequence" id="fasta_sequence" rows="8" cols="100"></textarea>
        </td>
    </tr>

    <tr>
        <td align="center">Spacer Length:</td>
        <td align="left"><input placeholder='30' type="TEXT" value="" name="F_primer" id="spacer_length" size="75"></td>
    </tr>

    <tr>
        <td align="center">Target Intervals (nt):</td>
        <td align="left"><input placeholder='1' type="TEXT" value="" name="F_primer" id="intervals" size="75"></td>
    </tr>

    <tr>
        <td align="center">5' Oligo Adapter:</td>
        <td align="left"><input type="TEXT" value="" name="F_primer" id="F_primer" size="75"></td>
    </tr>

    <tr>
        <td align="center">3' Oligo Adapter:</td>
        <td align="left"><input type="TEXT" value="" name="R_primer" id="R_primer" size="75"></td>
    </tr>

<!-- 
    <tr>
    <td align="center"> E-mail address (optional):</td>
    <td align="left"> <input type="TEXT" value="" name="REPLY-E-MAIL" size="40"></td>
    </tr>
-->

<tr>
    <td id="advancedOptionsButton" colspan="2"><a href="#advanced" onclick="$('#advancedOptions').toggleClass('hidden')">Advanced Options</a></td>
</tr>

<tr id='advancedOptions' class='hidden'>
    <td colspan="2">
        <!-- Make forward or reverse optional -->
        <div class='option'>
            <input type="radio" id="showBoth" name="strands_shown" value="both" checked="true">
            <label for="showBoth">Show both</label><br>
            <input type="radio" id="showForward" name="strands_shown" value="forward">
            <label for="showForward">Forward Strand</label><br>
            <input type="radio" id="showReverse" name="strands_shown" value="reverse">
            <label for="showReverse">Reverse Strand</label><br>
        </div>

        <div class='option'>
            <input type="radio" id="classic_radio" name="format" value="classic" checked="true">
            <label for="classic_radio">Classic format</label><br>
            <input type="radio" id="fasta_radio" name="format" value="fasta">
            <label for="fasta_radio">Fasta format</label><br>

        </div>

        <div class='option' style="width: 35%;">
            <input type="radio" id="collate_radio" name="lines" value="collate" checked="true">
            <label for="collate_radio">Collate forward and reverse primers </label><br>
            <input type="radio" id="separate_radio" name="lines" value="separate">
            <label for="separate_radio">Forward primers, then reverse primers</label><br>
            <input type="radio" id="double_radio" name="lines" value="double">
            <label for="double_radio">Both primers on the same line</label><br>
            <input type="radio" id="files_radio" name="lines" value="files">
            <label for="files_radio">Separate output files</label><br>
        </div>

        <div class='option' style="width: 15%;">
            <input type="radio" id="spaces_radio" name="separator" value="spaces" checked="true">
            <label for="spaces_radio">Spaces</label><br>
            <input type="radio" id="tabs_radio" name="separator" value="tabs">
            <label for="tabs_radio">Tabs</label><br>
        </div>
    </td>
</tr>

    </tbody></table>
    <input type="BUTTON" value="Show Example" onclick="show_example()">
    <input type="BUTTON" value="Submit" onclick="submit_sequence()">
    <input type="RESET" value="Clear" onclick="clear_results()">

</form>


<div id="outputs">
    <div id='errors_div' style="display: none;">
        <h2 style="color: red;">Errors:</h2>
        <textarea id='errors' rows="8" cols="100"></textarea>
    </div>

    <div id='output_div' style="display: none;">
        <h2>Output:</h2> 
        <p><a id="download_csv" onclick="update_data('#download_csv', '#output')" target="_blank" href="#results.txt" download="results.txt">Download as .txt file</a></p>
        <textarea id='output' rows="8" cols="100"></textarea>
    </div>

    <div id='extra_output_div' style="display: none;">
        <h2>Reverse Output:</h2> 
        <p><a id="download_extra_csv" onclick="update_data('#download_extra_csv', '#extra_output')" target="_blank" href="#reverse.txt" download="reverse.txt">Download as .txt file</a></p>
        <textarea id='extra_output' rows="8" cols="100"></textarea>
    </div>

    <div id='stats_div' style="display: none;">
        <h2>Stats:</h2>
        <textarea id='stats' rows="8" cols="100"></textarea>

        <div id="chart_div">
            <h2>GC content of generated guide RNA:</h2>
            <svg id="chart" viewBox="0 0 900 600"></svg>
        </div>
    </div>
</div>

<br>
<p>
<b>If you are using Cas13-gRNA server in your research, please cite:</b>
<br>
XXXXX, (Under review).
</p>

    <center>
        <p> <font size="0.5"> Copyright @ 2020 Peter MacCallum Cancer Centre, Australia. </font></p>
    </center>
</center>

<script src="/js/cas13.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-76178877-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-76178877-2');
</script>

</body>

</html>